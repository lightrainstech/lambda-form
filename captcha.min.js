!function(t,a){void 0===t&&void 0!==window&&(t=window),"function"==typeof define&&define.amd?define([],function(){return t.jCaptcha=a()}):"object"==typeof module&&module.exports?module.exports=a():t.jCaptcha=a()}(this,function(){"use strict";function t(){c=Math.round(8*Math.random())+1,n=Math.round(8*Math.random())+1,i=c+n}function a(t,a,e){e||t[0].insertAdjacentHTML("beforebegin",'<canvas class="jCaptchaText"></canvas>'),this.$captchaText=this.$captchaText||document.getElementsByClassName("jCaptchaText"),this.$jCaptchaTextContext=this.$jCaptchaTextContext||this.$captchaText[0].getContext("2d"),this.$captchaText[0].width=a.canvasWidth,this.$captchaText[0].height=a.canvasHeight,this.$jCaptchaTextContext.textBaseline="top",this.$jCaptchaTextContext.font=a.canvasFontSize+" "+a.canvasFontFamily,this.$jCaptchaTextContext.textAlign="left",this.$jCaptchaTextContext.fillStyle=a.canvasFillStyle,this.$jCaptchaTextContext.fillText(c+" + "+n+" "+a.requiredValue,0,0)}function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e.prototype.options=Object.assign({},s,t),e.prototype._init()}var i,c,n,s={el:"jCaptcha",requiredValue:"*",resetOnError:!0,focusOnError:!0,clearOnSubmit:!0,canvasWidth:50,canvasHeight:15,canvasFontSize:"15px",canvasFontFamily:"Arial",canvasFillStyle:"#ddd",callback:null};return e.prototype={_init:function(){this.$captchaInput=document.getElementsByClassName(this.options.el),t(),a.call(this,this.$captchaInput,this.options,!1)},validate:function(){this.callbackReceived=this.callbackReceived||"function"==typeof this.options.callback,this.$captchaInput[0].value!=i?(this.callbackReceived&&this.options.callback("error",this.$captchaInput),!0===this.options.resetOnError&&this.reset(),!0===this.options.focusOnError&&this.$captchaInput[0].focus()):this.callbackReceived&&this.options.callback("success",this.$captchaInput),!0===this.options.clearOnSubmit&&(this.$captchaInput[0].value="")},reset:function(){t(),a.call(this,this.$captchaInput,this.options,!0)}},e});